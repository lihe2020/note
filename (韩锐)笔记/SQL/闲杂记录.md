- 
  - DDL （Data Definition Language） 数据定义语言（表结构修改、定义等）
  - DML（Data Manipulation Language）数据操作语言（增删改查）
- CPU达到100%如何排查（可能是正常，也可能是异常情况）
- 性能优化指的是什么？CPU使用率，QPS等都OK；在MySQL里指的是每秒的查询次数，或者SQL的执行时间。
- 执行时间优化
  1. 为什么这么耗时？搞清楚时间花哪儿去了（误区：上来就修改执行的SQL语句，然后再看执行时长）
  2. 为什么时间都花在那儿了？
     1. 执行任务
     2. 等待任务
- 从研发者的角度有一些问题可能比较难排查，比如索引扫描导致其他查询速度变慢，这种情况需要全局的视角，也就是需要DBA协助
- 在应用中引入监控工具会导致性能开销，这么做值不值得？
  - 值得。比如引入监控工具会造成1%的性能开销，但由于监控工具的引入使得性能优化后提升10%，那就值了。
- 捕获查询日志
  - 慢查询记录
  - 捕获tcp流量，然后解析MySQL传输协议
- 分析查询日志：pt-query-digest

### pt-query-digest

可以分析慢查询日志，分析慢查询top K

### MySQL自带的查询分析

- show profile 可以查看到单条SQL的时间花费，然后通过queryId查询information_schema
- show status 返回mysql统计信息，如创建临时表数量、创建文件数量等等，通过统计信息的前后对比进行分析
- show processlist 查看线程状态

### 间歇性性能问题

慢查询日志的SQL，拿去收工执行发现非常快，explain分析也能正确利用索引，很难知道原因在哪儿；

可能的原因：

- 缓存击穿
- dns超时
- 系统正在备份
- 某种类型的锁竞争或阻塞
- 其他的查询导致索引扫描，引起级联反应



